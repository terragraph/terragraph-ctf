<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tests/Interference">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Interference Tests | Terragraph CTF</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://terragraph.github.io/terragraph-ctf/logo/terragraph-logo-full-RGB.png"><meta data-rh="true" name="twitter:image" content="https://terragraph.github.io/terragraph-ctf/logo/terragraph-logo-full-RGB.png"><meta data-rh="true" property="og:url" content="https://terragraph.github.io/terragraph-ctf/tests/Interference"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Interference Tests | Terragraph CTF"><meta data-rh="true" name="description" content="All Tests"><meta data-rh="true" property="og:description" content="All Tests"><link data-rh="true" rel="icon" href="/terragraph-ctf/logo/terragraph-logo-favicon-32x32-full-RGB.png"><link data-rh="true" rel="canonical" href="https://terragraph.github.io/terragraph-ctf/tests/Interference"><link data-rh="true" rel="alternate" href="https://terragraph.github.io/terragraph-ctf/tests/Interference" hreflang="en"><link data-rh="true" rel="alternate" href="https://terragraph.github.io/terragraph-ctf/tests/Interference" hreflang="x-default"><link rel="stylesheet" href="/terragraph-ctf/katex/katex.min.css"><link rel="stylesheet" href="/terragraph-ctf/assets/css/styles.273bd273.css">
<link rel="preload" href="/terragraph-ctf/assets/js/runtime~main.4f2908c1.js" as="script">
<link rel="preload" href="/terragraph-ctf/assets/js/main.8da3f691.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/terragraph-ctf/"><div class="navbar__logo"><img src="/terragraph-ctf/logo/terragraph-logo-favicon-32x32-full-RGB.svg" alt="Terragraph Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/terragraph-ctf/logo/terragraph-logo-favicon-32x32-white-RGB.svg" alt="Terragraph Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/terragraph/terragraph-ctf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link githubButton navbarIconButton" title="GitHub"></a><a href="https://discord.gg/HQaxCevzus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link discordButton navbarIconButton" title="Discord"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terragraph-ctf/">Terragraph Test Plans</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/terragraph-ctf/tests/IBF">Tests</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/IBF">IBF Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Association">Association Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Throughput">Throughput Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Link_Adaptation">Link Adaptation Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/terragraph-ctf/tests/Interference">Interference Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/802.1X">802.1X Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/WSEC">WSEC (WPA-PSK) Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/LLS">Link Level Scheduler Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Scans">Scan Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/SW_Hybrid">SW Hybrid Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Y_Street">Y-Street Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Z_Street">Z-Street Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Coordinated_Scheduling">Coordinated Scheduling Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/E2E_Controller">E2E Controller Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Stability">Stability Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/RFC_2544">RFC 2544 Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Routing">Routing Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Prefix_Allocation">Prefix Allocation (CPA/DPA) Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/QoS">QoS Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Link_Overloading">Link Overloading Tests</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/terragraph-ctf/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tests</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Interference Tests</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Interference Tests</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="all-tests">All Tests<a class="hash-link" href="#all-tests" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-50-impact-of-flashlight-interference-on-la"><code>PUMA_RF_LA-5.0</code> Impact of flashlight interference on LA<a class="hash-link" href="#puma_rf_la-50-impact-of-flashlight-interference-on-la" title="Direct link to heading">​</a></h3><p>Description: The purpose of this test is to assess the sensitivity of the LA
algorithm to flashlight interference, across a variety of INRs and duty cycles
for interference. To create a carefully controlled interference environment, we
make use of the IF mini-interference testbed.</p><p><strong>Table 4:</strong></p><table><thead><tr><th>INR (dB)</th><th>SINR</th><th>Duty cycle (% of time traffic is running)</th></tr></thead><tbody><tr><td>-5</td><td>20</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>-3</td><td>20</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>-1</td><td>20</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>1</td><td>19</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>3</td><td>17</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>5</td><td>15</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>7</td><td>13</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>9</td><td>11</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>11</td><td>9</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>13</td><td>7</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>15</td><td>5</td><td>(10, 20, 40, 50, 60)</td></tr><tr><td>17</td><td>3</td><td>(10, 20, 40, 50, 60)</td></tr></tbody></table><p>Test Setup: Dual stack coffin</p><ul><li>DN → CN is Victim Link and IND → INC is Aggressor link.</li></ul><p>Procedure:</p><ul><li>Reboot TGs, DNs, and CNs.</li><li>On DN, CN, IND, and INC update <code>/etc/e2e_config/fw_cfg.json</code> to reflect the
following:<ul><li>Disable TPC.</li></ul></li><li>Init and Config FW on DNs and CNs.</li><li>Associate link IND and INC.</li><li>Program attenuator on the IND → INC path to ensure STF SNR of link is no more
than -5 dB.</li><li>Disassociate IND and INC.</li><li>Assign Golay code 1 to DN.</li><li>Assign Golay code 2 to IND and INC.</li><li>Associate link DN and CN.</li><li>Ping DN → CN and CN → DN to validate connectivity.</li><li>Program attenuator on the DN → CN path to ensure STF SNR of link is no more
than 20 dB.</li><li>Associate link IND and INC.</li><li>Ping IND → INC and INC → IND to validate connectivity.</li><li>Run iPerf on the DN → CN with the following parameters:<ul><li>2 Gbps of UDP traffic (bi-directional)</li><li>Packet size of 1500 bytes</li><li>Running time: 5 minutes</li></ul></li><li>Run iPerf with duty cycle picked from (10,20,40,50,60) in turn on the link IND
→ INC with the following parameters:<ul><li>Packet size of 500 bytes, 1500 bytes and IMIX</li><li>Running time: 5 minutes Total</li></ul></li><li>Reduce attenuation on IND → INC path by 2dB and repeat earlier step.</li><li>Continue above two steps for 12 iterations, i.e. for all values shown in
Table 4 above.</li></ul><p>Pass/Fail Criterion:</p><ul><li>Short term PER for all combinations of {INR, Duty-cycle} on the link is &lt; 1% +
2xTarget_PER for LA.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-51-udp-throughput-with-fixed-mcspower-settings-vs-tpcla-enabled"><code>PUMA_RF_LA-5.1</code> UDP Throughput with fixed MCS+POWER settings VS TPC+LA enabled<a class="hash-link" href="#puma_rf_la-51-udp-throughput-with-fixed-mcspower-settings-vs-tpcla-enabled" title="Direct link to heading">​</a></h3><p>Description: The purpose of this test to ensure that LA&#x27;s performance is at
least as good as Fixed MCS, given the link SNR yields &lt; 0.1% PER for that MCS.</p><p>Test Setup: Dual stack coffin, 325m RF link, 200m Link</p><p>Procedure:</p><ul><li>Program attenuator with 0 dB attenuation (LA-TB-1 only).</li><li>Reboot the TGs, the DN and the CN.</li><li>For each MCSx in the set {9, 10, 11, 12}, repeat the following tests:</li><li>On both the DN and CN, update <code>/etc/e2e_config/fw_cfg.json</code> to reflect the
following:<ul><li>Fix the MCS to MCSx.</li><li>Disable TPC.</li></ul></li><li>Associate both DN and CN.</li><li>Program the attenuator to ensure that STF SNR is at least 2dB above the min
SNR for MCSx (LA-TB-1 only).</li><li>Ping DN → CN and CN → DN to validate connectivity.</li><li>Run iPerf (on the TG) for 10 mins with the following parameters:<ul><li>2 Gbps of UDP traffic (bi-directional)</li><li>Packet size of 1500 bytes</li></ul></li><li>Record the throughput on the link in each direction.</li><li>On both the DN and CN, update <code>/etc/e2e_config/fw_cfg.json</code> to reflect the
following:<ul><li>Enable link adaptation on the link with Max MCS = MCSx picked in the
earlier step.</li><li>Enable TPC.</li></ul></li><li>Associate both DN and CN.</li><li>Ping DN → CN and CN → DN to validate connectivity.</li><li>Run iPerf (on the TG) for 10 mins with the following parameters:<ul><li>2 Gbps of UDP traffic (bi-directional)</li><li>Packet size of 500 bytes, 1500 bytes and IMIX</li></ul></li><li>Record the throughput on the link in each direction.</li></ul><p>Pass Criterion:</p><ul><li>The mean UDP throughput with Link Adaptation is within 95% of Fixed MCS
performance.</li><li>Long term PER &lt; Target PER throughout the run.</li><li>Short term PER &lt; 1%+Target PER throughout the run.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-52-adjacent-point-to-point-links-with-early-weak-interference"><code>PUMA_RF_LA-5.2</code> Adjacent point-to-point links with early weak interference<a class="hash-link" href="#puma_rf_la-52-adjacent-point-to-point-links-with-early-weak-interference" title="Direct link to heading">​</a></h3><p>Description: The purpose of this test is to assess how well Max AGC tracking,
CRS, and Golay Code handle early weak interference. Where Golay code assignment
is enabled, assign Golay Code {1,1} to one link and Code {2,2} to the other
link. Where Golay code assignment is disabled, assign Golay Code {1,1} to both
links.</p><p>Note that CRS disabled implies a CRS value of 16 in the configuration, whereas
max AGC disabled means AGC is left free-running (see preparation section above).</p><p><strong>Table 5:</strong></p><table><thead><tr><th>Case</th><th>Golay</th><th>Max AGC</th><th>CRS</th></tr></thead><tbody><tr><td>1</td><td>Enabled</td><td>Enabled</td><td>Disabled</td></tr><tr><td>2</td><td>Enabled</td><td>Disabled</td><td>Enabled</td></tr><tr><td>3</td><td>Disabled</td><td>Enabled</td><td>Enabled</td></tr><tr><td>4</td><td>Enabled</td><td>Enabled</td><td>Enabled</td></tr></tbody></table><p>Test Setup: Alpha Turn setup</p><ul><li>Links 10-5 (DN1 &amp; DN2), and (CN1 &amp; CN2) 11-9 &amp; 11-8.</li><li>CN1 → DN1 is Aggressor and CN2 → DN2 is Victim link.</li></ul><p>Procedure:</p><ul><li>Reboot TGs, DNs, and CNs.</li><li>On both the DNs and CNs, update <code>/etc/e2e_config/fw_cfg.json</code> to reflect the
combinations shown in table 4 above.</li><li>Init and Config FW on DNs and CNs.</li><li>Associate link DN2 and CN1 and record Tx beam of CN1 to DN2, by parsing the
value of the following field in fw_stats:<ul><li>phyPeriodic.txBeamIdx</li></ul></li><li>Disassociate DN2 and CN1.</li><li>Add +1 microsecond to the transmit time of slots for nodes DN2 and CN2 in the
<code>fw_cfg.json</code> file, as shown below:<ul><li>&quot;txSlot0End&quot;: 87,</li><li>&quot;txSlot0Start&quot;: 7,</li><li>&quot;txSlot1End&quot;: 182,</li><li>&quot;txSlot1Start&quot;: 97,</li><li>&quot;txSlot2End&quot;: 197,</li><li>&quot;txSlot2Start&quot;: 192,</li></ul></li><li>Associate link DN2 and CN2.</li><li>Ping DN2 → CN2 and CN2 → DN2 to validate connectivity.</li><li>Associate link DN1 and CN1 with the CN configured to use the Tx beam recorded
in the earlier step, as follows in <code>fw_cfg.json</code> file:<ul><li>beamConfig: 0</li><li>txBeamIndex: <code>&lt;TxBeam&gt;</code></li><li>rxBeamIndex: 0</li></ul></li><li>Ping DN1 → CN1 and CN1 → DN1 to validate connectivity.</li><li>Run iPerf (on the TG) on the links CN1 → DN1 and CN2 → DN2 with the following
parameters:<ul><li>2 Gbps of UDP traffic (bi-directional)</li><li>Packet size of 1500 bytes</li><li>Running time: 5 minutes</li></ul></li><li>Record the throughput on link CN2 → DN2.</li><li>Repeat the procedure for each case shown in Table 5.</li><li>Disassociate DN2 → CN2 and DN1 → CN1.</li><li>On both the DNs and CNs, update <code>/etc/e2e_config/fw_cfg.json</code> to reflect the
combinations shown in Table 5 above.</li><li>Associate link DN2 and CN2.</li><li>Ping DN2 → CN2 and CN2 → DN2 to validate connectivity.</li><li>Associate link DN1 and CN1 with the CN configured to use the Tx beam recorded
in the earlier step.</li><li>Ping DN1 → CN1 and CN1 → DN1 to validate connectivity.</li><li>Run iPerf (on the TG) on the links CN1 → DN1 and CN2 → DN2 with the following
parameters:<ul><li>2 Gbps of UDP traffic (bi-directional)</li><li>Packet size of 1500 bytes</li><li>Running time: 5 minutes</li></ul></li><li>Record the throughput on link CN2 → DN2.</li></ul><p>Pass/Fail Criterion:</p><ul><li>Full UDP throughput of 1Gbps is achieved on link CN2 → DN2 with all the cases
listed in Table 5.</li><li>LA is able to maintain MCS 9 on CN2 → DN2 for all the cases listed in Table 5.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-53-mpk-alpha-turn-with-the-early-weak-interference"><code>PUMA_RF_LA-5.3</code> MPK alpha turn with the early weak interference<a class="hash-link" href="#puma_rf_la-53-mpk-alpha-turn-with-the-early-weak-interference" title="Direct link to heading">​</a></h3><p>Description: The purpose of this test is to assess how well Max AGC tracking,
CRS Threshold, and Golay codes handle early weak interference. This Alpha turn
setup exercises the specific case of a near-far links where the long link
transmits at high power and causes interference to the shorter link  on the same
pole.</p><p>Test Setup: Alpha Turn Setup (see below)</p><p align="center"><img loading="lazy" src="/terragraph-ctf/figures/alpha_turn.png" width="480" class="img_ev3q"></p><p>Procedure:</p><ul><li>Reboot TGs, DNs, and CNs.</li><li>Init and Config FW on DNs and CNs.</li><li>Bring up the Alpha turn topology using.</li><li>Ping all links to validate connectivity.</li><li>Sample the STF SNR (for ~30 seconds) on each link and verify it is at least 14
dB.</li><li>Run iPerf on each link from link-local to link-local using the following
parameters:<ul><li>2 Gbps of UDP traffic (bi-directional)</li><li>Packet size of 1500 bytes</li><li>Running Time: 3 minutes</li></ul></li><li>Run iPerf UDP uni-directionally from DN1 → DN4 using the following parameters:<ul><li>2 Gbps</li><li>Packet size of 5784 bytes</li><li>Running Time: 3 minutes</li></ul></li><li>Run iPerf UDP uni-directionally from DN4 → DN1 using the following parameters:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running Time: 3 minutes</li></ul></li><li>Run iPerf UDP bi-directionally between DN1 → DN4 using the following
parameters:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running Time: 3 minutes</li></ul></li></ul><p>Pass/Fail Criterion:</p><ul><li>Each UDP session in the test achieves full 1Gbps throughput.</li><li>Long term PER &lt; Target PER throughout the run.</li><li>Short term PER &lt; 1%+Target PER throughout the run.</li><li>LA is able to maintain MCS 9 on each link throughout the test.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-54-dn-zig-zag-links-with-nominal-3-hop-interference"><code>PUMA_RF_LA-5.4</code> DN ZIG-ZAG links with nominal 3 hop interference<a class="hash-link" href="#puma_rf_la-54-dn-zig-zag-links-with-nominal-3-hop-interference" title="Direct link to heading">​</a></h3><p>Description: The purpose of this test is to assess how well TPC and LA adapt to
interference from a neighboring high power link that is 3 hops from the victim
link.</p><table><thead><tr><th>Test ID</th><th>Link 1 Golay</th><th>Link 2 Golay</th><th>Link 3 Golay</th></tr></thead><tbody><tr><td>LA-5.4.1</td><td>{1,1}</td><td>{1,1}</td><td>{1,1}</td></tr><tr><td>LA-5.4.2</td><td>{1,1}</td><td>{1,1}</td><td>{2,2}</td></tr></tbody></table><p>Test Setup: Zig-Zag Setup</p><p>Procedure:</p><ul><li>Reboot TGs, DNs, and CNs.</li><li>Init and Config FW on DNs and CNs.</li><li>Configure DN1 to disable TPC, i.e. have it run at full power (=28).</li><li>Configure DNs and CNs to have Golay based on the table above.</li><li>Associate DN2 → CN2, using <code>r2d2</code>.</li><li>Sample STF SNR on the link and record Tx Power on DN2.</li><li>Associate DN1 → CN1, using <code>r2d2</code>.</li><li>Sample STF SNR on the link and record Tx Power on DN2</li><li>Ping DN1 → CN1 and CN1 → DN1 to validate connectivity.</li><li>Ping DN2 → CN2 and CN2 → DN2 to validate connectivity.</li><li>Run uni-directional UDP iPerf from DN1 → CN1 and DN2 → CN2 with the following
parameters:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running time = 5 minutes.</li></ul></li><li>Sample STF SNR on the link and record Tx Power on DN2 when iPerf is running in
the earlier step.</li><li>Run bi-directional UDP iPerf from DN1 → CN1 and DN2 → CN2 with the following
parameters:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running time = 5 minutes.</li></ul></li></ul><p>Pass/Fail Criterion:</p><ul><li>Each UDP session in the test achieves full 1Gbps throughput.</li><li>LA is able to maintain MCS 9 on both the links.</li><li>TPC increases Tx Power on DN2 → CN2 to compensate for interference from DN1 →
CN1.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-56-butterfly-interference-with-acute-angle-cns"><code>PUMA_RF_LA-5.6</code> Butterfly interference with acute angle CNs<a class="hash-link" href="#puma_rf_la-56-butterfly-interference-with-acute-angle-cns" title="Direct link to heading">​</a></h3><p>Description: The purpose of this test is to assess how well TPC and LA are able
to handle interference between associated DNs, when they are communicating with
their respective CNs, i.e. DN → CN, CN → DN. This is achieved by means of a
setup crafted with different acute angles between DN-DN and DN-CN links.</p><p>Test Setup: Butterfly setup</p><p>Procedure:</p><ul><li>Reboot TGs, DNs, and CNs.</li><li>Init and Config FW on DNs and CNs.</li><li>Associate DN1 → DN2, using <code>r2d2</code>.</li><li>Ping DN1 →DN2 and DN2 → DN1 to validate connectivity.</li><li>Associate DN1 → CN1, using <code>r2d2</code>.</li><li>Ping DN1 → CN1 and CN1 → DN1 to validate connectivity.</li><li>Sample STF SNR on the link and record Tx Power on DN2.</li><li>Associate DN2 → CN2, using <code>r2d2</code>.</li><li>Ping DN2 → CN2 and CN2 → DN2 to validate connectivity.</li><li>Sample STF SNR on the link and record Tx Power on DN1.</li><li>Run uni-directional UDP iPerf from CN1→ CN2 and CN2 → CN1 with the following
parameters:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running time = 5 minutes.</li></ul></li></ul><p>Pass/Fail Criterion:</p><ul><li>Each UDP session in the test achieves full 1Gbps throughput.</li><li>LA is able to maintain MCS 9 on both the links.</li><li>Long term PER &lt; Target PER throughout the run.</li><li>Short term PER &lt; 1%+Target PER throughout the run.</li><li>TPC increases Tx Power to compensate for strong interference between links.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-57-figure-of-8-interference-scenarios"><code>PUMA_RF_LA-5.7</code> Figure of 8 interference scenarios<a class="hash-link" href="#puma_rf_la-57-figure-of-8-interference-scenarios" title="Direct link to heading">​</a></h3><p>Description: The purpose of this test is to assess how well TPC, LA, and AGC
work to mitigate interference in a Figure of 8 test setup. We create a few
interference-limited topologies to evaluate performance by igniting only a
subset of the links to create the U turn, the S turn, and the H configuration.
Details are given below. Note, the following the assignment of Golays to each
link for all tests:</p><ul><li>Golay 1: Links 0, 1, 3, and 4.</li><li>Golay 2: Links 2, 5 and 6.</li></ul><p>This test should also be repeated with the following Golay code assignments:</p><ul><li>Golay 1: Links 0 and 1</li><li>Golay 2: Links 2 and 6</li><li>Golay 3: Links 3 and 4</li><li>Golay 4: Link 5</li></ul><p align="center"><img loading="lazy" src="/terragraph-ctf/figures/PUMA_RF_LA-5.7.png" width="600" class="img_ev3q"></p><p>U-Turn:</p><ul><li>Remove links 5 and 6 (U_1).</li><li>Remove links 2 and 5 (U_2).</li></ul><p>H-Turn:</p><ul><li>Remove links 2 and 6.</li></ul><p>S-Turn:</p><ul><li>Remove links 1 and 4 (S_1).</li><li>Remove links 0 and 3 (S_2).</li></ul><p><strong>Table 3:</strong></p><table><thead><tr><th>Source</th><th>Sink</th><th>Uni-Directional (each way)</th><th>Bi-Directional</th><th>Topology Type</th></tr></thead><tbody><tr><td>11</td><td>12</td><td>Yes</td><td>Yes</td><td>U_1</td></tr><tr><td>5</td><td>6</td><td>Yes</td><td>Yes</td><td>U_2</td></tr><tr><td>6</td><td>12</td><td>Yes</td><td>Yes</td><td>H</td></tr><tr><td>5</td><td>11</td><td>Yes</td><td>Yes</td><td>H</td></tr><tr><td>4</td><td>10</td><td>Yes</td><td>Yes</td><td>S_1</td></tr><tr><td>1</td><td>7</td><td>Yes</td><td>Yes</td><td>S_2</td></tr></tbody></table><p>Test Setup: RF Fig of 8</p><p>Procedure:</p><ul><li>Reboot TGs, DNs, and CNs.</li><li>Init and Config FW on DNs and CNs.</li><li>Ignite all links using <code>r2d2</code> or E2E controller. For <code>r2d2</code>, pay close
attention to which nodes are initiator and responder, because this affects how
the polarity is configured on the link. By default, the initiator has EVEN
polarity.</li><li>Ping each wireless hop (using lo interface) and ensure connectivity in each
direction.</li><li>Run UDP iPerf from source → sink as shown in Table 3 above with the following
parameters and record throughput:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running time = 5 minutes.</li></ul></li><li>Run TCP iPerf from source → sink as shown in Table 3 above with the following
parameters and record throughput:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running time = 5 minutes.</li></ul></li></ul><p>Pass/Fail Criterion:</p><ul><li>Each UDP session in the test achieves at least 1Gbps throughput.</li><li>Each TCP session in the test achieves at least 1Gbps throughput.</li><li>LA is able to maintain MCS 9 on both the links.</li><li>Long term PER &lt; Target PER throughout the run.</li><li>Short term PER &lt; 1%+Target PER throughout the run.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_la-58-cn-to-cn-interference"><code>PUMA_RF_LA-5.8</code> CN-To-CN interference<a class="hash-link" href="#puma_rf_la-58-cn-to-cn-interference" title="Direct link to heading">​</a></h3><p>Description: This test creates a scenario whereby neighboring CNs 100m apart
cause side-lobe interference to one another. It&#x27;s intended to evaluate whether
AGC and CRS features mitigate the impact of interference under these conditions.</p><p>Test Setup: CN-TO-CN interference setup (see below)</p><p align="center"><img loading="lazy" src="/terragraph-ctf/figures/PUMA_RF_LA-5.8.png" width="800" class="img_ev3q"></p><p>Procedure:</p><ul><li>Reboot TGs, DNs, and CNs.</li><li>Init and Config FW on DNs and CNs.</li><li>Associate DN1 → DN2, using <code>r2d2</code>.</li><li>Ping DN1 →DN2 and DN2 → DN1 to validate connectivity.</li><li>Associate DN1 → CN1, using <code>r2d2</code>.</li><li>Ping DN1 → CN1 and CN1 → DN1 to validate connectivity.</li><li>Associate DN2 → CN2, using <code>r2d2</code>.</li><li>Ping DN2 → CN2 and CN2 → DN2 to validate connectivity.</li><li>Run uni-directional UDP iPerf on CN1→ DN1 and DN2 → CN2 with the following
parameters:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running time = 5 minutes.</li></ul></li><li>Record the throughput from DN2 → CN2.</li><li>Run uni-directional UDP iPerf on CN2→ DN2 and DN1 → CN1 with the following
parameters:<ul><li>2 Gbps</li><li>Packet size of 1500 bytes</li><li>Running time = 5 minutes.</li></ul></li><li>Record the throughput from DN1 → CN1.</li></ul><p>Pass/Fail Criterion:</p><ul><li>Each recorded UDP session in the test achieves full 1Gbps throughput.</li><li>LA is able to maintain MCS 9 on both the links.</li><li>Long term PER &lt; Target PER throughout the run.</li><li>Short term PER &lt; 1%+Target PER throughout the run.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/terragraph/terragraph-ctf/edit/main/docs/../docs/tests/Interference.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/terragraph-ctf/tests/Link_Adaptation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Link Adaptation Tests</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/terragraph-ctf/tests/802.1X"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">802.1X Tests</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#all-tests" class="table-of-contents__link toc-highlight">All Tests</a><ul><li><a href="#puma_rf_la-50-impact-of-flashlight-interference-on-la" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.0</code> Impact of flashlight interference on LA</a></li><li><a href="#puma_rf_la-51-udp-throughput-with-fixed-mcspower-settings-vs-tpcla-enabled" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.1</code> UDP Throughput with fixed MCS+POWER settings VS TPC+LA enabled</a></li><li><a href="#puma_rf_la-52-adjacent-point-to-point-links-with-early-weak-interference" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.2</code> Adjacent point-to-point links with early weak interference</a></li><li><a href="#puma_rf_la-53-mpk-alpha-turn-with-the-early-weak-interference" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.3</code> MPK alpha turn with the early weak interference</a></li><li><a href="#puma_rf_la-54-dn-zig-zag-links-with-nominal-3-hop-interference" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.4</code> DN ZIG-ZAG links with nominal 3 hop interference</a></li><li><a href="#puma_rf_la-56-butterfly-interference-with-acute-angle-cns" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.6</code> Butterfly interference with acute angle CNs</a></li><li><a href="#puma_rf_la-57-figure-of-8-interference-scenarios" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.7</code> Figure of 8 interference scenarios</a></li><li><a href="#puma_rf_la-58-cn-to-cn-interference" class="table-of-contents__link toc-highlight"><code>PUMA_RF_LA-5.8</code> CN-To-CN interference</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Terragraph</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://terragraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/connectivity/solutions/terragraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meta Connectivity<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/terragraph/meta-terragraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/terragraph/terragraph-planner" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph Planner<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/terragraph/tgnms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph NMS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/HQaxCevzus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/terragraph-ctf/assets/js/runtime~main.4f2908c1.js"></script>
<script src="/terragraph-ctf/assets/js/main.8da3f691.js"></script>
</body>
</html>