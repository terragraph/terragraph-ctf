<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tests/802.1X">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">802.1X Tests | Terragraph CTF</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://terragraph.github.io/terragraph-ctf/logo/terragraph-logo-full-RGB.png"><meta data-rh="true" name="twitter:image" content="https://terragraph.github.io/terragraph-ctf/logo/terragraph-logo-full-RGB.png"><meta data-rh="true" property="og:url" content="https://terragraph.github.io/terragraph-ctf/tests/802.1X"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="802.1X Tests | Terragraph CTF"><meta data-rh="true" name="description" content="This document is intended to test the 802.1X based security feature for"><meta data-rh="true" property="og:description" content="This document is intended to test the 802.1X based security feature for"><link data-rh="true" rel="icon" href="/terragraph-ctf/logo/terragraph-logo-favicon-32x32-full-RGB.png"><link data-rh="true" rel="canonical" href="https://terragraph.github.io/terragraph-ctf/tests/802.1X"><link data-rh="true" rel="alternate" href="https://terragraph.github.io/terragraph-ctf/tests/802.1X" hreflang="en"><link data-rh="true" rel="alternate" href="https://terragraph.github.io/terragraph-ctf/tests/802.1X" hreflang="x-default"><link rel="stylesheet" href="/terragraph-ctf/katex/katex.min.css"><link rel="stylesheet" href="/terragraph-ctf/assets/css/styles.273bd273.css">
<link rel="preload" href="/terragraph-ctf/assets/js/runtime~main.4f2908c1.js" as="script">
<link rel="preload" href="/terragraph-ctf/assets/js/main.8da3f691.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/terragraph-ctf/"><div class="navbar__logo"><img src="/terragraph-ctf/logo/terragraph-logo-favicon-32x32-full-RGB.svg" alt="Terragraph Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/terragraph-ctf/logo/terragraph-logo-favicon-32x32-white-RGB.svg" alt="Terragraph Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/terragraph/terragraph-ctf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link githubButton navbarIconButton" title="GitHub"></a><a href="https://discord.gg/HQaxCevzus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link discordButton navbarIconButton" title="Discord"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terragraph-ctf/">Terragraph Test Plans</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/terragraph-ctf/tests/IBF">Tests</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/IBF">IBF Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Association">Association Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Throughput">Throughput Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Link_Adaptation">Link Adaptation Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Interference">Interference Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/terragraph-ctf/tests/802.1X">802.1X Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/WSEC">WSEC (WPA-PSK) Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/LLS">Link Level Scheduler Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Scans">Scan Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/SW_Hybrid">SW Hybrid Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Y_Street">Y-Street Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Z_Street">Z-Street Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Coordinated_Scheduling">Coordinated Scheduling Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/E2E_Controller">E2E Controller Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Stability">Stability Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/RFC_2544">RFC 2544 Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Routing">Routing Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Prefix_Allocation">Prefix Allocation (CPA/DPA) Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/QoS">QoS Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-ctf/tests/Link_Overloading">Link Overloading Tests</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/terragraph-ctf/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tests</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">802.1X Tests</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>802.1X Tests</h1><p>This document is intended to test the 802.1X based security feature for
Terragraph. It is used to test the 802.1X based authentication. The intent of
this test plan is to evaluate:</p><ul><li>Correctness of 802.1X authentication for max number of peers (either: 16 CNs,
15 CNs and 1 DN, or 14 CNs and 2 DNs).</li><li>For Puma, correctness of 802.1X authentication for max number (4) of baseband
cards.</li><li>Robustness of initial association and re-association with 802.1X
authentication enabled.</li><li>Robustness of 802.1X authentication in the presence of link flaps.</li><li>802.1X authentication when igniting butterfly topology.</li><li>Performance of P2P / P2MP links with different iPerf packet sizes and packet
rates, for UDP and TCP traffic (the 802.1X authentication should not affect
throughput on a link, and the throughput should match the throughput with
WPA-PSK).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparation-notes">Preparation Notes<a class="hash-link" href="#preparation-notes" title="Direct link to heading">​</a></h2><ul><li>Provision the EAP-TLS certificates on the nodes. This has to be done once per
the lifetime of the node. Verify that these certificate files (<code>ca.pem</code>,
<code>client.csr</code>, <code>client.key</code>, <code>client.pem</code>) exist at <code>/data/secure/keys</code> on each
node.</li><li>Configure the IP addresses and passphrases for the test CA and RADIUS server.</li><li>To enable 802.1X based authentication, set <code>wsecEnable</code> to 2 in the config
file. Note that firmware uses <code>/etc/e2e_config/fw_cfg.json</code>, but the E2E
controller and other security scripts use <code>/data/cfg/node_config.json</code>. For
now, do make the <code>wsecEnable</code> config change in both the config files.</li><li>All tests assume that the certificates are already provisioned on each
Terragraph radio, DN or CN, and the config files, <code>node_config.json</code> have been
updated with the settings for the RADIUS server IP and the
<code>wsecParams.eapolParams.secrets</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ignition-test-cases">Ignition Test Cases<a class="hash-link" href="#ignition-test-cases" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-1-2-1dn16-cn-association-with-e2e-controller"><code>PUMA_RF_8021x-1-2</code> 1DN+16 CN Association with E2E Controller<a class="hash-link" href="#puma_rf_8021x-1-2-1dn16-cn-association-with-e2e-controller" title="Direct link to heading">​</a></h3><p>Description: This test assumes that the certificates are already provisioned on
each Terragraph radio, DN or CN, and the config files, node_config.json have
been updated with the settings for the RADIUS server IP and the
<code>wsecParams.eapolParams.secrets</code>. We assume that each DN-CN link is capable of
supporting MCS 12.</p><p>Procedure:</p><ul><li>Enable security using the approach described in the Preparation Notes section.</li><li>Sequentially associate 16 CNs.</li><li>Ping on link using link local.</li><li>Send 50Mbps bidirectional iPerf UDP traffic simultaneously on all interfaces
from traffic generators.</li><li>Dissociate each link from DN Initiator.</li></ul><p>Validation:</p><ul><li>All Associations succeed.</li><li>Ping success</li><li>No packet loss.</li><li>iPerf throughput of 50Mbps is achieved on each link.</li><li>Disassociation success.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-1-4-1dn14cn2dn-association"><code>PUMA_RF_8021x-1-4</code> 1DN+14CN+2DN Association<a class="hash-link" href="#puma_rf_8021x-1-4-1dn14cn2dn-association" title="Direct link to heading">​</a></h3><p>Procedure:</p><ul><li>Same as 8021x-1-2, but configure as DN responder two of the 16 peers.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-1-6-reassoc-stress-test"><code>PUMA_RF_8021x-1-6</code> Reassoc Stress Test<a class="hash-link" href="#puma_rf_8021x-1-6-reassoc-stress-test" title="Direct link to heading">​</a></h3><p>Procedure:</p><ul><li>Randomly select a peer</li><li>Break the link using attenuator between initiator and peer.</li><li>Set attenuation to 0, and allow the link to come back up.</li><li>After linkup, ping the peer.</li></ul><p>Validation:</p><ul><li>No crashes.</li><li>All pings succeed.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-verification">Feature Verification<a class="hash-link" href="#feature-verification" title="Direct link to heading">​</a></h2><p>The following negative tests are to be added to verify the protocol
functionality. These tests can be run with either the E2E controller or <code>r2d2</code>
or both.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-0-positive-test"><code>PUMA_RF_8021x-2-0</code> Positive test<a class="hash-link" href="#puma_rf_8021x-2-0-positive-test" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>Make sure nodes have the security credentials described in the runbook.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association succeeds.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-1-missing-ca-certificate"><code>PUMA_RF_8021x-2-1</code> Missing CA certificate<a class="hash-link" href="#puma_rf_8021x-2-1-missing-ca-certificate" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>Delete the file /data/secure/keys/ca.pem file from the responder node.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-2-missing-client-key"><code>PUMA_RF_8021x-2-2</code> Missing client key<a class="hash-link" href="#puma_rf_8021x-2-2-missing-client-key" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>Delete the file /data/secure/keys/client.key file from the responder node.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-3-missing-client-certificate"><code>PUMA_RF_8021x-2-3</code> Missing client certificate<a class="hash-link" href="#puma_rf_8021x-2-3-missing-client-certificate" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>Delete the file /data/secure/keys/client.pem file from the responder node.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-4-invalid-radius_server_shared_secret"><code>PUMA_RF_8021x-2-4</code> Invalid radius_server_shared_secret<a class="hash-link" href="#puma_rf_8021x-2-4-invalid-radius_server_shared_secret" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>On the DN initiator node, change the value of
<code>radioParamsBase.wsecParams.eapolParams.secrets.radius_server_shared_secret</code>
in <code>/data/cfg/node_config.json</code> to &quot;tgInvalidSercret&quot;.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-5-invalid-radius_user_password"><code>PUMA_RF_8021x-2-5</code> Invalid radius_user_password<a class="hash-link" href="#puma_rf_8021x-2-5-invalid-radius_user_password" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>On the CN responder node, change the value of
<code>radioParamsBase.wsecParams.eapolParams.secrets.radius_user_password</code> in
<code>/data/cfg/node_config.json</code> to &quot;tgInvalidPasswd&quot;.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-6-invalid-private_key_password"><code>PUMA_RF_8021x-2-6</code> Invalid private_key_password<a class="hash-link" href="#puma_rf_8021x-2-6-invalid-private_key_password" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>On the CN responder node, change the value of
<code>radioParamsBase.wsecParams.eapolParams.secrets.private_key_password</code> in
<code>/data/cfg/node_config.json</code> to &quot;tgInvalidkey&quot;.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-7-invalid-radius_user_identity"><code>PUMA_RF_8021x-2-7</code> Invalid radius_user_identity<a class="hash-link" href="#puma_rf_8021x-2-7-invalid-radius_user_identity" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>On the CN responder node, change the value of
<code>radioParamsBase.wsecParams.eapolParams.radius_user_identity</code> in
<code>/data/cfg/node_config.json</code> to &quot;tgInvaliduser&quot;.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-2-8-invalid-nas_identifier"><code>PUMA_RF_8021x-2-8</code> Invalid NAS_IDENTIFIER<a class="hash-link" href="#puma_rf_8021x-2-8-invalid-nas_identifier" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>On the DN initiator node, change the value of nas_identifier in
<code>/etc/hostapd-8021x.template</code> to &quot;invalidnas&quot;.</li><li>Associate the nodes with 802.1X auth enabled (wsecEnable set to 2).</li><li>Verify that association fails.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wsec-settings-mismatch-test-cases">WSEC Settings Mismatch Test Cases<a class="hash-link" href="#wsec-settings-mismatch-test-cases" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-3-1-wsecenable-2-and-1"><code>PUMA_RF_8021x-3-1</code> wsecEnable 2 and 1<a class="hash-link" href="#puma_rf_8021x-3-1-wsecenable-2-and-1" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>On the DN initiator node, set the value of wsecEnable to 2.</li><li>On the CN responder node, set the value of wsecEnable to 1.</li><li>Associate the nodes.</li><li>Verify that association fails.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-3-3-wsecenable-0-and-2"><code>PUMA_RF_8021x-3-3</code> wsecEnable 0 and 2<a class="hash-link" href="#puma_rf_8021x-3-3-wsecenable-0-and-2" title="Direct link to heading">​</a></h3><p>For a P2P scenario (DN-DN and DN-CN link) do the following:</p><ol><li>On the DN initiator node, set the value of wsecEnable to 0.</li><li>On the CN responder node, set the value of wsecEnable to 2.</li><li>Associate the nodes.</li><li>Verify that association succeeds.</li><li>Ping on link using link local, and verify that ping succeeds.</li><li>Send 50Mbps bidirectional iPerf UDP traffic simultaneously on all interfaces
from traffic generators.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-3-5-wsecenable-0-and-2-for-p2mp">PUMA_RF_8021x-3-5 wsecEnable 0 and 2 for P2MP<a class="hash-link" href="#puma_rf_8021x-3-5-wsecenable-0-and-2-for-p2mp" title="Direct link to heading">​</a></h3><p>For a P2MP scenario ( DN-CN1 and DN-CN2 link) do the following:</p><ol><li>On the DN initiator node, set the value of wsecEnable to 0.</li><li>On the CN1 responder node, set the value of wsecEnable to 2.</li><li>On the CN2 responder node, set the value of wsecEnable to 2.</li><li>Associate the nodes.</li><li>Verify that association succeeds.</li><li>Ping on link using link local, and verify that ping succeeds.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-baseband-card-test-cases">Multiple Baseband Card Test Cases<a class="hash-link" href="#multiple-baseband-card-test-cases" title="Direct link to heading">​</a></h2><p>The multiple baseband card test cases are only applicable to Puma with multiple
baseband cards inserted.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-4-2-dn-dn-ignition-with-234-basebands-with-e2e-controller"><code>PUMA_RF_8021x-4-2</code> DN-DN Ignition with 2,3,4 basebands with E2E Controller<a class="hash-link" href="#puma_rf_8021x-4-2-dn-dn-ignition-with-234-basebands-with-e2e-controller" title="Direct link to heading">​</a></h3><p>This test is the same as <code>8021x-1-2</code>, with the topology file including a single
DN-DN P2P link for each baseband card. This test is to be repeated with 2, 3,
and 4 baseband cards attached to the Puma digital board.</p><p>Validation:</p><ul><li>Verify that link comes up for all the basebands.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="puma_rf_8021x-4-4-p2mp-dn-dn-and-dn-cn-ignition-with-234-basebands-with-e2e-controller"><code>PUMA_RF_8021x-4-4</code> P2MP DN-DN and DN-CN Ignition with 2,3,4 basebands with E2E Controller<a class="hash-link" href="#puma_rf_8021x-4-4-p2mp-dn-dn-and-dn-cn-ignition-with-234-basebands-with-e2e-controller" title="Direct link to heading">​</a></h3><p>This test is the same as <code>8021x-1-2</code>, with the topology file including a P2MP
DN-DN and a DN-CN link for each baseband card. This test is to be repeated with
2, 3, and 4 baseband cards attached to the Puma digital board.</p><p>Validation:</p><ul><li>Verify that link comes up for all the basebands.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="throughput-test-cases">Throughput Test cases<a class="hash-link" href="#throughput-test-cases" title="Direct link to heading">​</a></h2><p>The throughput test cases will be the same as the one&#x27;s from Over-The-Air
Security Test Plan for WPA-PSK. Do refer to the Throughput Test cases in this
test plan. The only difference will be that <code>wsecEnable</code> is set to 2 to enable
802.1X authentication. There should be no degradation of throughput due to
802.1X authentication.</p><p>Description: These test cases are purposed to evaluate the performance impact of
enabling OTA security in topological scenarios.</p><table><thead><tr><th>Test ID</th><th>Topology</th><th>Packet Size (bytes)</th><th>UDP Push Rate (Mbps) - laMaxMcs = 9</th><th>UDP Expected Throughput (Mbps)</th><th>UDP Push Rate (Mbps) - laMaxMcs = 12</th><th>UDP Expected Throughput (Mbps)</th></tr></thead><tbody><tr><td>PUMA_RF_8021x-5</td><td>P2P (DN-DN, DN-CN)</td><td>1500</td><td>720</td><td>720<!-- -->*</td><td>720</td><td>720<!-- -->*</td></tr><tr><td>PUMA_RF_8021x-6</td><td>P2MP (2DN, 3CNs)</td><td>5602(MCS9)/ 5469(MCS12)</td><td>850(serial)/ 250(parallel)</td><td>832.44(serial)/ 225.67(parallel)</td><td>1400(serial)/ 390(parallel)</td><td>1381.67(serial)/ 374.57(parallel)</td></tr><tr><td>PUMA_RF_8021x-7</td><td>Butterfly (2DNs, 2 CNs per DN)</td><td>5602(MCS9)/ 5469(MCS12)</td><td>900(serial)/ 320(parallel)</td><td>891.90(serial)/ 302.59(parallel)</td><td>900(serial)/ 320(parallel)</td><td>891.90(serial)/ 302.59(parallel)</td></tr><tr><td>PUMA_RF_8021x-8</td><td>Y-street (3 DNs only)</td><td>5602(MCS9)/ 5469(MCS12)</td><td>900(serial)/ 450(parallel)</td><td>891.90(serial)/ 441(parallel)</td><td>1420(serial)/ 770(parallel)</td><td>1405.84(serial)/ 765.16(parallel)</td></tr><tr><td>PUMA_RF_8021x-9</td><td>Figure of U</td><td>5602(MCS9)/ 5469(MCS12)</td><td>1050</td><td>1000</td><td>1650</td><td>1610</td></tr></tbody></table><p>*<!-- --> These throughput numbers don&#x27;t have to be adjusted to account for additional
overhead from CCMP security headers, etc.</p><p>Procedure:</p><ul><li>Ignite topology for the test ID shown in the table above.</li><li>Ping each link using link local.</li><li>Send iPerf UDP traffic serially on each link from traffic generators, using
the push rate provided in the table above.</li><li>Send iPerf UDP traffic simultaneously on all links from traffic generators (if
applicable), using the push rate provided in the table above.</li></ul><p>Validation:</p><ul><li>All associations succeed for the ignited topology.</li><li>Ping success on all links.</li><li>iPerf throughput is within 95% expected throughput, as shown in the table
above.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/terragraph/terragraph-ctf/edit/main/docs/../docs/tests/802.1X.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/terragraph-ctf/tests/Interference"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Interference Tests</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/terragraph-ctf/tests/WSEC"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WSEC (WPA-PSK) Tests</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preparation-notes" class="table-of-contents__link toc-highlight">Preparation Notes</a></li><li><a href="#ignition-test-cases" class="table-of-contents__link toc-highlight">Ignition Test Cases</a><ul><li><a href="#puma_rf_8021x-1-2-1dn16-cn-association-with-e2e-controller" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-1-2</code> 1DN+16 CN Association with E2E Controller</a></li><li><a href="#puma_rf_8021x-1-4-1dn14cn2dn-association" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-1-4</code> 1DN+14CN+2DN Association</a></li><li><a href="#puma_rf_8021x-1-6-reassoc-stress-test" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-1-6</code> Reassoc Stress Test</a></li></ul></li><li><a href="#feature-verification" class="table-of-contents__link toc-highlight">Feature Verification</a><ul><li><a href="#puma_rf_8021x-2-0-positive-test" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-0</code> Positive test</a></li><li><a href="#puma_rf_8021x-2-1-missing-ca-certificate" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-1</code> Missing CA certificate</a></li><li><a href="#puma_rf_8021x-2-2-missing-client-key" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-2</code> Missing client key</a></li><li><a href="#puma_rf_8021x-2-3-missing-client-certificate" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-3</code> Missing client certificate</a></li><li><a href="#puma_rf_8021x-2-4-invalid-radius_server_shared_secret" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-4</code> Invalid radius_server_shared_secret</a></li><li><a href="#puma_rf_8021x-2-5-invalid-radius_user_password" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-5</code> Invalid radius_user_password</a></li><li><a href="#puma_rf_8021x-2-6-invalid-private_key_password" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-6</code> Invalid private_key_password</a></li><li><a href="#puma_rf_8021x-2-7-invalid-radius_user_identity" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-7</code> Invalid radius_user_identity</a></li><li><a href="#puma_rf_8021x-2-8-invalid-nas_identifier" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-2-8</code> Invalid NAS_IDENTIFIER</a></li></ul></li><li><a href="#wsec-settings-mismatch-test-cases" class="table-of-contents__link toc-highlight">WSEC Settings Mismatch Test Cases</a><ul><li><a href="#puma_rf_8021x-3-1-wsecenable-2-and-1" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-3-1</code> wsecEnable 2 and 1</a></li><li><a href="#puma_rf_8021x-3-3-wsecenable-0-and-2" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-3-3</code> wsecEnable 0 and 2</a></li><li><a href="#puma_rf_8021x-3-5-wsecenable-0-and-2-for-p2mp" class="table-of-contents__link toc-highlight">PUMA_RF_8021x-3-5 wsecEnable 0 and 2 for P2MP</a></li></ul></li><li><a href="#multiple-baseband-card-test-cases" class="table-of-contents__link toc-highlight">Multiple Baseband Card Test Cases</a><ul><li><a href="#puma_rf_8021x-4-2-dn-dn-ignition-with-234-basebands-with-e2e-controller" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-4-2</code> DN-DN Ignition with 2,3,4 basebands with E2E Controller</a></li><li><a href="#puma_rf_8021x-4-4-p2mp-dn-dn-and-dn-cn-ignition-with-234-basebands-with-e2e-controller" class="table-of-contents__link toc-highlight"><code>PUMA_RF_8021x-4-4</code> P2MP DN-DN and DN-CN Ignition with 2,3,4 basebands with E2E Controller</a></li></ul></li><li><a href="#throughput-test-cases" class="table-of-contents__link toc-highlight">Throughput Test cases</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Terragraph</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://terragraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/connectivity/solutions/terragraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meta Connectivity<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/terragraph/meta-terragraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/terragraph/terragraph-planner" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph Planner<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/terragraph/tgnms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph NMS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/HQaxCevzus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/terragraph-ctf/assets/js/runtime~main.4f2908c1.js"></script>
<script src="/terragraph-ctf/assets/js/main.8da3f691.js"></script>
</body>
</html>