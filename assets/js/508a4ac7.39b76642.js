"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[379],{3905:(t,e,a)=>{a.d(e,{Zo:()=>c,kt:()=>u});var n=a(7294);function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,i=function(t,e){if(null==t)return{};var a,n,i={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(i[a]=t[a]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}var s=n.createContext({}),p=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},c=function(t){var e=p(t.components);return n.createElement(s.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},f=n.forwardRef((function(t,e){var a=t.components,i=t.mdxType,r=t.originalType,s=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),f=p(a),u=i,h=f["".concat(s,".").concat(u)]||f[u]||d[u]||r;return a?n.createElement(h,o(o({ref:e},c),{},{components:a})):n.createElement(h,o({ref:e},c))}));function u(t,e){var a=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var r=a.length,o=new Array(r);o[0]=f;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:i,o[1]=l;for(var p=2;p<r;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},4063:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var n=a(7462),i=(a(7294),a(3905));const r={},o="Z-Street Tests",l={unversionedId:"tests/Z_Street",id:"tests/Z_Street",title:"Z-Street Tests",description:"Test Z-street ignition in different scenarios as mentioned below.",source:"@site/../docs/tests/Z_Street.md",sourceDirName:"tests",slug:"/tests/Z_Street",permalink:"/terragraph-ctf/tests/Z_Street",draft:!1,editUrl:"https://github.com/terragraph/terragraph-ctf/edit/main/docs/../docs/tests/Z_Street.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Y-Street Tests",permalink:"/terragraph-ctf/tests/Y_Street"},next:{title:"Coordinated Scheduling Tests",permalink:"/terragraph-ctf/tests/Coordinated_Scheduling"}},s={},p=[{value:"All Tests",id:"all-tests",level:2},{value:"<code>PUMA_RF_ZS-0.1</code> Basic Association and Throughput",id:"puma_rf_zs-01-basic-association-and-throughput",level:3},{value:"<code>PUMA_RF_ZS-1.1</code> Basic Association",id:"puma_rf_zs-11-basic-association",level:3},{value:"<code>PUMA_RF_ZS-1.2</code> Throughput to multi-CNs",id:"puma_rf_zs-12-throughput-to-multi-cns",level:3},{value:"<code>PUMA_RF_ZS-1.3.1</code> End-to-End throughput with unidirectional traffic",id:"puma_rf_zs-131-end-to-end-throughput-with-unidirectional-traffic",level:3},{value:"<code>PUMA_RF_ZS-1.3.2</code> End-to-End throughput with bidirectional traffic",id:"puma_rf_zs-132-end-to-end-throughput-with-bidirectional-traffic",level:3},{value:"<code>PUMA_RF_ZS-2.1</code> Error handling",id:"puma_rf_zs-21-error-handling",level:3}],c={toc:p};function d(t){let{components:e,...a}=t;return(0,i.kt)("wrapper",(0,n.Z)({},c,a,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"z-street-tests"},"Z-Street Tests"),(0,i.kt)("p",null,"Test Z-street ignition in different scenarios as mentioned below."),(0,i.kt)("p",null,"Test Setup: Multihop setup / Z-street setup"),(0,i.kt)("h2",{id:"all-tests"},"All Tests"),(0,i.kt)("h3",{id:"puma_rf_zs-01-basic-association-and-throughput"},(0,i.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_ZS-0.1")," Basic Association and Throughput"),(0,i.kt)("p",null,"Description: T_ideal is 50% for each corresponding DN link for both DL/UL/MCS=9\nfor all the links."),(0,i.kt)("p",null,"Procedure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Start association in the following steps:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Start association from DN3 to DN1"),(0,i.kt)("li",{parentName:"ol"},"Start association from DN1 to DN0"),(0,i.kt)("li",{parentName:"ol"},"Start association from DN0 to DN2"),(0,i.kt)("li",{parentName:"ol"},"Verify the association is ok by pinging from DN3 to DN2, and it's\npingable."))),(0,i.kt)("li",{parentName:"ol"},"Start unidirectional UDP/TCP traffic (UDP or TCP, one at a time) from DN3 to\nDN2, and vice versa. Check if the throughput is:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"UDP: Offer 862 Mbps, pass with 95% of offered"),(0,i.kt)("li",{parentName:"ol"},"TCP: Rate-limit to 1000 Mbps, pass with 802 Mbps"),(0,i.kt)("li",{parentName:"ol"},"Conditional pass = 90% of these thresholds."))),(0,i.kt)("li",{parentName:"ol"},"Run bidirectional UDP/TCP traffic between DN3 and DN2. Check if the\nthroughput is at least 400Mbps.",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"UDP: Offer 400 Mbps, pass with 95% of offered"),(0,i.kt)("li",{parentName:"ol"},"TCP: Rate-limit to 500 Mbps, pass with 372 Mbps"),(0,i.kt)("li",{parentName:"ol"},"Conditional pass = 90% of these thresholds")))),(0,i.kt)("h3",{id:"puma_rf_zs-11-basic-association"},(0,i.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_ZS-1.1")," Basic Association"),(0,i.kt)("p",null,"Description: T_ideal as shown/MCS=9 for all the links"),(0,i.kt)("p",null,"Procedure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Start association in the following steps:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Start association from DN0 to DN1, then DN0 to DN2, then DN2 to DN3"),(0,i.kt)("li",{parentName:"ol"},"Start association from DN0 to CN3"),(0,i.kt)("li",{parentName:"ol"},"Start association from DN1 to CN1 and CN2"),(0,i.kt)("li",{parentName:"ol"},"Start association from DN2 to CN4"),(0,i.kt)("li",{parentName:"ol"},"Start association from DN3 to CN5"),(0,i.kt)("li",{parentName:"ol"},"Ping from CN1 to other 4 CNs, and make sure they are pingable")))),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/terragraph-ctf/figures/PUMA_RF_ZS-1.1.png",width:"600"})),(0,i.kt)("h3",{id:"puma_rf_zs-12-throughput-to-multi-cns"},(0,i.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_ZS-1.2")," Throughput to multi-CNs"),(0,i.kt)("p",null,"Description: In this test, we will check simultaneous throughput to all the CNs.\nT_ideal as shown/MCS=9 for all the links."),(0,i.kt)("p",null,"Procedure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Run traffic simultaneously between DN1 and CN1, DN1 and CN2, DN1 and CN3, DN1\nand CN4, and DN1 and CN5 (5 in parallel), UDP and TCP, unidirectional in each\ndirection and bidirectional (6 subtests total):",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Unidirectional:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"UDP: Offer 166 Mbps, pass with 95% of offered (each)"),(0,i.kt)("li",{parentName:"ol"},"TCP: Rate-limit to 200 Mbps, pass with 155 Mbps (each)"),(0,i.kt)("li",{parentName:"ol"},"Conditional pass: 90% of the Pass criteria"))),(0,i.kt)("li",{parentName:"ol"},"Bidirectional:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"UDP: (same as unidirectional)"),(0,i.kt)("li",{parentName:"ol"},"TCP: (same as unidirectional)"),(0,i.kt)("li",{parentName:"ol"},"Conditional pass: 90% of the Pass criteria")))))),(0,i.kt)("h3",{id:"puma_rf_zs-131-end-to-end-throughput-with-unidirectional-traffic"},(0,i.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_ZS-1.3.1")," End-to-End throughput with unidirectional traffic"),(0,i.kt)("p",null,"Description: In this test, we check end-to-end throughput from CN1 to all other\nCNs, one at a time. T_ideal as shown/MCS=9 for all the links."),(0,i.kt)("p",null,"Procedure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Run unidirectional traffic between CN1 and CN2, then between CN1 and CN3,\nthen between CN1 and CN4, then between CN1 and CN5, UDP and TCP,\nunidirectional in each direction (16 subtests total):",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"UDP: Offer 832 Mbps, pass with 95% of offered"),(0,i.kt)("li",{parentName:"ol"},"TCP: Rate-limit to 1000 Mbps, pass with 775 Mbps"),(0,i.kt)("li",{parentName:"ol"},"Conditional pass = 90% of the Pass criteria")))),(0,i.kt)("h3",{id:"puma_rf_zs-132-end-to-end-throughput-with-bidirectional-traffic"},(0,i.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_ZS-1.3.2")," End-to-End throughput with bidirectional traffic"),(0,i.kt)("p",null,"Description: In this test, we check end-to-end throughput from CN1 to all other\nCNs, one at a time. T_ideal as shown/MCS=9 for all the links."),(0,i.kt)("p",null,"Procedure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Run bidirectional traffic between CN1 and CN2, then between CN1 and CN3, then\nbetween CN1 and CN4, then between CN1 and CN5, UDP and TCP (8 subtests\ntotal):",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"UDP: Offer 400 Mbps, pass with 95% of offered"),(0,i.kt)("li",{parentName:"ol"},"TCP: Rate-limit to 450 Mbps, pass with 372 Mbps"),(0,i.kt)("li",{parentName:"ol"},"Conditional pass = 90% of the Pass criteria")))),(0,i.kt)("h3",{id:"puma_rf_zs-21-error-handling"},(0,i.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_ZS-2.1")," Error handling"),(0,i.kt)("p",null,"Description: In this test, we will check if network remains operational if we\nlose one of the edge DNs (e.g., DN1 or DN3, in the following example, we will\nchoose DN1). T_ideal as shown/MCS=9 for all the links."),(0,i.kt)("p",null,"Procedure:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"In parallel, offer unidirectional iPerf UDP with 400 Mbps push rate from CN3\nto CN4 and from CN5 to CN4 (in parallel), and verify at least 95% of the\noffered traffic is achieved for each flow."),(0,i.kt)("li",{parentName:"ol"},"Send link down from DN1 to CN1 and CN2, and then from DN0 to DN1."),(0,i.kt)("li",{parentName:"ol"},"Verify that the two traffic flows still maintain at least 95% of 400 Mbps\neach."),(0,i.kt)("li",{parentName:"ol"},"Send link up from DN0 to DN1, and verify the two flows still maintain at\nleast 95% of 400Mbps each."),(0,i.kt)("li",{parentName:"ol"},"Associate CN1 and CN2 with DN1. Verify that the throughput for the two flows\ndoes not change."),(0,i.kt)("li",{parentName:"ol"},"Start UDP traffic from CN1 to CN3 with 400 Mbps push rate, and verify that\nall three flows achieve at least 95% of 400 Mbps.")))}d.isMDXComponent=!0}}]);