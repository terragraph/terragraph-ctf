"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[720],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var u=a.createContext({}),p=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(u.Provider,{value:t},e.children)},N={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,i=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),k=p(n),m=l,d=k["".concat(u,".").concat(m)]||k[m]||N[m]||i;return n?a.createElement(d,r(r({ref:t},s),{},{components:n})):a.createElement(d,r({ref:t},s))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=n.length,r=new Array(i);r[0]=k;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:l,r[1]=o;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},7705:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>r,default:()=>N,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=n(7462),l=(n(7294),n(3905));const i={},r="Interference Tests",o={unversionedId:"tests/Interference",id:"tests/Interference",title:"Interference Tests",description:"All Tests",source:"@site/../docs/tests/Interference.md",sourceDirName:"tests",slug:"/tests/Interference",permalink:"/terragraph-ctf/tests/Interference",draft:!1,editUrl:"https://github.com/terragraph/terragraph-ctf/edit/main/docs/../docs/tests/Interference.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Link Adaptation Tests",permalink:"/terragraph-ctf/tests/Link_Adaptation"},next:{title:"802.1X Tests",permalink:"/terragraph-ctf/tests/802.1X"}},u={},p=[{value:"All Tests",id:"all-tests",level:2},{value:"<code>PUMA_RF_LA-5.0</code> Impact of flashlight interference on LA",id:"puma_rf_la-50-impact-of-flashlight-interference-on-la",level:3},{value:"<code>PUMA_RF_LA-5.1</code> UDP Throughput with fixed MCS+POWER settings VS TPC+LA enabled",id:"puma_rf_la-51-udp-throughput-with-fixed-mcspower-settings-vs-tpcla-enabled",level:3},{value:"<code>PUMA_RF_LA-5.2</code> Adjacent point-to-point links with early weak interference",id:"puma_rf_la-52-adjacent-point-to-point-links-with-early-weak-interference",level:3},{value:"<code>PUMA_RF_LA-5.3</code> MPK alpha turn with the early weak interference",id:"puma_rf_la-53-mpk-alpha-turn-with-the-early-weak-interference",level:3},{value:"<code>PUMA_RF_LA-5.4</code> DN ZIG-ZAG links with nominal 3 hop interference",id:"puma_rf_la-54-dn-zig-zag-links-with-nominal-3-hop-interference",level:3},{value:"<code>PUMA_RF_LA-5.6</code> Butterfly interference with acute angle CNs",id:"puma_rf_la-56-butterfly-interference-with-acute-angle-cns",level:3},{value:"<code>PUMA_RF_LA-5.7</code> Figure of 8 interference scenarios",id:"puma_rf_la-57-figure-of-8-interference-scenarios",level:3},{value:"<code>PUMA_RF_LA-5.8</code> CN-To-CN interference",id:"puma_rf_la-58-cn-to-cn-interference",level:3}],s={toc:p};function N(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"interference-tests"},"Interference Tests"),(0,l.kt)("h2",{id:"all-tests"},"All Tests"),(0,l.kt)("h3",{id:"puma_rf_la-50-impact-of-flashlight-interference-on-la"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.0")," Impact of flashlight interference on LA"),(0,l.kt)("p",null,"Description: The purpose of this test is to assess the sensitivity of the LA\nalgorithm to flashlight interference, across a variety of INRs and duty cycles\nfor interference. To create a carefully controlled interference environment, we\nmake use of the IF mini-interference testbed."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Table 4:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"INR (dB)"),(0,l.kt)("th",{parentName:"tr",align:null},"SINR"),(0,l.kt)("th",{parentName:"tr",align:null},"Duty cycle (% of time traffic is running)"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-5"),(0,l.kt)("td",{parentName:"tr",align:null},"20"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-3"),(0,l.kt)("td",{parentName:"tr",align:null},"20"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"-1"),(0,l.kt)("td",{parentName:"tr",align:null},"20"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"19"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"17"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"15"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"7"),(0,l.kt)("td",{parentName:"tr",align:null},"13"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"9"),(0,l.kt)("td",{parentName:"tr",align:null},"11"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"11"),(0,l.kt)("td",{parentName:"tr",align:null},"9"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"13"),(0,l.kt)("td",{parentName:"tr",align:null},"7"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"15"),(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"17"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"(10, 20, 40, 50, 60)")))),(0,l.kt)("p",null,"Test Setup: Dual stack coffin"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"DN \u2192 CN is Victim Link and IND \u2192 INC is Aggressor link.")),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reboot TGs, DNs, and CNs."),(0,l.kt)("li",{parentName:"ul"},"On DN, CN, IND, and INC update ",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/e2e_config/fw_cfg.json")," to reflect the\nfollowing:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Disable TPC."))),(0,l.kt)("li",{parentName:"ul"},"Init and Config FW on DNs and CNs."),(0,l.kt)("li",{parentName:"ul"},"Associate link IND and INC."),(0,l.kt)("li",{parentName:"ul"},"Program attenuator on the IND \u2192 INC path to ensure STF SNR of link is no more\nthan -5 dB."),(0,l.kt)("li",{parentName:"ul"},"Disassociate IND and INC."),(0,l.kt)("li",{parentName:"ul"},"Assign Golay code 1 to DN."),(0,l.kt)("li",{parentName:"ul"},"Assign Golay code 2 to IND and INC."),(0,l.kt)("li",{parentName:"ul"},"Associate link DN and CN."),(0,l.kt)("li",{parentName:"ul"},"Ping DN \u2192 CN and CN \u2192 DN to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Program attenuator on the DN \u2192 CN path to ensure STF SNR of link is no more\nthan 20 dB."),(0,l.kt)("li",{parentName:"ul"},"Associate link IND and INC."),(0,l.kt)("li",{parentName:"ul"},"Ping IND \u2192 INC and INC \u2192 IND to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Run iPerf on the DN \u2192 CN with the following parameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps of UDP traffic (bi-directional)"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time: 5 minutes"))),(0,l.kt)("li",{parentName:"ul"},"Run iPerf with duty cycle picked from (10,20,40,50,60) in turn on the link IND\n\u2192 INC with the following parameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Packet size of 500 bytes, 1500 bytes and IMIX"),(0,l.kt)("li",{parentName:"ul"},"Running time: 5 minutes Total"))),(0,l.kt)("li",{parentName:"ul"},"Reduce attenuation on IND \u2192 INC path by 2dB and repeat earlier step."),(0,l.kt)("li",{parentName:"ul"},"Continue above two steps for 12 iterations, i.e. for all values shown in\nTable 4 above.")),(0,l.kt)("p",null,"Pass/Fail Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Short term PER for all combinations of {INR, Duty-cycle} on the link is < 1% +\n2xTarget_PER for LA.")),(0,l.kt)("h3",{id:"puma_rf_la-51-udp-throughput-with-fixed-mcspower-settings-vs-tpcla-enabled"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.1")," UDP Throughput with fixed MCS+POWER settings VS TPC+LA enabled"),(0,l.kt)("p",null,"Description: The purpose of this test to ensure that LA's performance is at\nleast as good as Fixed MCS, given the link SNR yields < 0.1% PER for that MCS."),(0,l.kt)("p",null,"Test Setup: Dual stack coffin, 325m RF link, 200m Link"),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Program attenuator with 0 dB attenuation (LA-TB-1 only)."),(0,l.kt)("li",{parentName:"ul"},"Reboot the TGs, the DN and the CN."),(0,l.kt)("li",{parentName:"ul"},"For each MCSx in the set {9, 10, 11, 12}, repeat the following tests:"),(0,l.kt)("li",{parentName:"ul"},"On both the DN and CN, update ",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/e2e_config/fw_cfg.json")," to reflect the\nfollowing:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Fix the MCS to MCSx."),(0,l.kt)("li",{parentName:"ul"},"Disable TPC."))),(0,l.kt)("li",{parentName:"ul"},"Associate both DN and CN."),(0,l.kt)("li",{parentName:"ul"},"Program the attenuator to ensure that STF SNR is at least 2dB above the min\nSNR for MCSx (LA-TB-1 only)."),(0,l.kt)("li",{parentName:"ul"},"Ping DN \u2192 CN and CN \u2192 DN to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Run iPerf (on the TG) for 10 mins with the following parameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps of UDP traffic (bi-directional)"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"))),(0,l.kt)("li",{parentName:"ul"},"Record the throughput on the link in each direction."),(0,l.kt)("li",{parentName:"ul"},"On both the DN and CN, update ",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/e2e_config/fw_cfg.json")," to reflect the\nfollowing:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Enable link adaptation on the link with Max MCS = MCSx picked in the\nearlier step."),(0,l.kt)("li",{parentName:"ul"},"Enable TPC."))),(0,l.kt)("li",{parentName:"ul"},"Associate both DN and CN."),(0,l.kt)("li",{parentName:"ul"},"Ping DN \u2192 CN and CN \u2192 DN to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Run iPerf (on the TG) for 10 mins with the following parameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps of UDP traffic (bi-directional)"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 500 bytes, 1500 bytes and IMIX"))),(0,l.kt)("li",{parentName:"ul"},"Record the throughput on the link in each direction.")),(0,l.kt)("p",null,"Pass Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The mean UDP throughput with Link Adaptation is within 95% of Fixed MCS\nperformance."),(0,l.kt)("li",{parentName:"ul"},"Long term PER < Target PER throughout the run."),(0,l.kt)("li",{parentName:"ul"},"Short term PER < 1%+Target PER throughout the run.")),(0,l.kt)("h3",{id:"puma_rf_la-52-adjacent-point-to-point-links-with-early-weak-interference"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.2")," Adjacent point-to-point links with early weak interference"),(0,l.kt)("p",null,"Description: The purpose of this test is to assess how well Max AGC tracking,\nCRS, and Golay Code handle early weak interference. Where Golay code assignment\nis enabled, assign Golay Code {1,1} to one link and Code {2,2} to the other\nlink. Where Golay code assignment is disabled, assign Golay Code {1,1} to both\nlinks."),(0,l.kt)("p",null,"Note that CRS disabled implies a CRS value of 16 in the configuration, whereas\nmax AGC disabled means AGC is left free-running (see preparation section above)."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Table 5:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Case"),(0,l.kt)("th",{parentName:"tr",align:null},"Golay"),(0,l.kt)("th",{parentName:"tr",align:null},"Max AGC"),(0,l.kt)("th",{parentName:"tr",align:null},"CRS"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Disabled")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Disabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"Disabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"Enabled")))),(0,l.kt)("p",null,"Test Setup: Alpha Turn setup"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Links 10-5 (DN1 & DN2), and (CN1 & CN2) 11-9 & 11-8."),(0,l.kt)("li",{parentName:"ul"},"CN1 \u2192 DN1 is Aggressor and CN2 \u2192 DN2 is Victim link.")),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reboot TGs, DNs, and CNs."),(0,l.kt)("li",{parentName:"ul"},"On both the DNs and CNs, update ",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/e2e_config/fw_cfg.json")," to reflect the\ncombinations shown in table 4 above."),(0,l.kt)("li",{parentName:"ul"},"Init and Config FW on DNs and CNs."),(0,l.kt)("li",{parentName:"ul"},"Associate link DN2 and CN1 and record Tx beam of CN1 to DN2, by parsing the\nvalue of the following field in fw_stats:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"phyPeriodic.txBeamIdx"))),(0,l.kt)("li",{parentName:"ul"},"Disassociate DN2 and CN1."),(0,l.kt)("li",{parentName:"ul"},"Add +1 microsecond to the transmit time of slots for nodes DN2 and CN2 in the\n",(0,l.kt)("inlineCode",{parentName:"li"},"fw_cfg.json")," file, as shown below:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'"txSlot0End": 87,'),(0,l.kt)("li",{parentName:"ul"},'"txSlot0Start": 7,'),(0,l.kt)("li",{parentName:"ul"},'"txSlot1End": 182,'),(0,l.kt)("li",{parentName:"ul"},'"txSlot1Start": 97,'),(0,l.kt)("li",{parentName:"ul"},'"txSlot2End": 197,'),(0,l.kt)("li",{parentName:"ul"},'"txSlot2Start": 192,'))),(0,l.kt)("li",{parentName:"ul"},"Associate link DN2 and CN2."),(0,l.kt)("li",{parentName:"ul"},"Ping DN2 \u2192 CN2 and CN2 \u2192 DN2 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Associate link DN1 and CN1 with the CN configured to use the Tx beam recorded\nin the earlier step, as follows in ",(0,l.kt)("inlineCode",{parentName:"li"},"fw_cfg.json")," file:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"beamConfig: 0"),(0,l.kt)("li",{parentName:"ul"},"txBeamIndex: ",(0,l.kt)("inlineCode",{parentName:"li"},"<TxBeam>")),(0,l.kt)("li",{parentName:"ul"},"rxBeamIndex: 0"))),(0,l.kt)("li",{parentName:"ul"},"Ping DN1 \u2192 CN1 and CN1 \u2192 DN1 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Run iPerf (on the TG) on the links CN1 \u2192 DN1 and CN2 \u2192 DN2 with the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps of UDP traffic (bi-directional)"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time: 5 minutes"))),(0,l.kt)("li",{parentName:"ul"},"Record the throughput on link CN2 \u2192 DN2."),(0,l.kt)("li",{parentName:"ul"},"Repeat the procedure for each case shown in Table 5."),(0,l.kt)("li",{parentName:"ul"},"Disassociate DN2 \u2192 CN2 and DN1 \u2192 CN1."),(0,l.kt)("li",{parentName:"ul"},"On both the DNs and CNs, update ",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/e2e_config/fw_cfg.json")," to reflect the\ncombinations shown in Table 5 above."),(0,l.kt)("li",{parentName:"ul"},"Associate link DN2 and CN2."),(0,l.kt)("li",{parentName:"ul"},"Ping DN2 \u2192 CN2 and CN2 \u2192 DN2 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Associate link DN1 and CN1 with the CN configured to use the Tx beam recorded\nin the earlier step."),(0,l.kt)("li",{parentName:"ul"},"Ping DN1 \u2192 CN1 and CN1 \u2192 DN1 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Run iPerf (on the TG) on the links CN1 \u2192 DN1 and CN2 \u2192 DN2 with the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps of UDP traffic (bi-directional)"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time: 5 minutes"))),(0,l.kt)("li",{parentName:"ul"},"Record the throughput on link CN2 \u2192 DN2.")),(0,l.kt)("p",null,"Pass/Fail Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Full UDP throughput of 1Gbps is achieved on link CN2 \u2192 DN2 with all the cases\nlisted in Table 5."),(0,l.kt)("li",{parentName:"ul"},"LA is able to maintain MCS 9 on CN2 \u2192 DN2 for all the cases listed in Table 5.")),(0,l.kt)("h3",{id:"puma_rf_la-53-mpk-alpha-turn-with-the-early-weak-interference"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.3")," MPK alpha turn with the early weak interference"),(0,l.kt)("p",null,"Description: The purpose of this test is to assess how well Max AGC tracking,\nCRS Threshold, and Golay codes handle early weak interference. This Alpha turn\nsetup exercises the specific case of a near-far links where the long link\ntransmits at high power and causes interference to the shorter link  on the same\npole."),(0,l.kt)("p",null,"Test Setup: Alpha Turn Setup (see below)"),(0,l.kt)("p",{align:"center"},(0,l.kt)("img",{src:"/terragraph-ctf/figures/alpha_turn.png",width:"480"})),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reboot TGs, DNs, and CNs."),(0,l.kt)("li",{parentName:"ul"},"Init and Config FW on DNs and CNs."),(0,l.kt)("li",{parentName:"ul"},"Bring up the Alpha turn topology using."),(0,l.kt)("li",{parentName:"ul"},"Ping all links to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Sample the STF SNR (for ~30 seconds) on each link and verify it is at least 14\ndB."),(0,l.kt)("li",{parentName:"ul"},"Run iPerf on each link from link-local to link-local using the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps of UDP traffic (bi-directional)"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running Time: 3 minutes"))),(0,l.kt)("li",{parentName:"ul"},"Run iPerf UDP uni-directionally from DN1 \u2192 DN4 using the following parameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 5784 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running Time: 3 minutes"))),(0,l.kt)("li",{parentName:"ul"},"Run iPerf UDP uni-directionally from DN4 \u2192 DN1 using the following parameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running Time: 3 minutes"))),(0,l.kt)("li",{parentName:"ul"},"Run iPerf UDP bi-directionally between DN1 \u2192 DN4 using the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running Time: 3 minutes")))),(0,l.kt)("p",null,"Pass/Fail Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Each UDP session in the test achieves full 1Gbps throughput."),(0,l.kt)("li",{parentName:"ul"},"Long term PER < Target PER throughout the run."),(0,l.kt)("li",{parentName:"ul"},"Short term PER < 1%+Target PER throughout the run."),(0,l.kt)("li",{parentName:"ul"},"LA is able to maintain MCS 9 on each link throughout the test.")),(0,l.kt)("h3",{id:"puma_rf_la-54-dn-zig-zag-links-with-nominal-3-hop-interference"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.4")," DN ZIG-ZAG links with nominal 3 hop interference"),(0,l.kt)("p",null,"Description: The purpose of this test is to assess how well TPC and LA adapt to\ninterference from a neighboring high power link that is 3 hops from the victim\nlink."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Test ID"),(0,l.kt)("th",{parentName:"tr",align:null},"Link 1 Golay"),(0,l.kt)("th",{parentName:"tr",align:null},"Link 2 Golay"),(0,l.kt)("th",{parentName:"tr",align:null},"Link 3 Golay"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LA-5.4.1"),(0,l.kt)("td",{parentName:"tr",align:null},"{1,1}"),(0,l.kt)("td",{parentName:"tr",align:null},"{1,1}"),(0,l.kt)("td",{parentName:"tr",align:null},"{1,1}")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LA-5.4.2"),(0,l.kt)("td",{parentName:"tr",align:null},"{1,1}"),(0,l.kt)("td",{parentName:"tr",align:null},"{1,1}"),(0,l.kt)("td",{parentName:"tr",align:null},"{2,2}")))),(0,l.kt)("p",null,"Test Setup: Zig-Zag Setup"),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reboot TGs, DNs, and CNs."),(0,l.kt)("li",{parentName:"ul"},"Init and Config FW on DNs and CNs."),(0,l.kt)("li",{parentName:"ul"},"Configure DN1 to disable TPC, i.e. have it run at full power (=28)."),(0,l.kt)("li",{parentName:"ul"},"Configure DNs and CNs to have Golay based on the table above."),(0,l.kt)("li",{parentName:"ul"},"Associate DN2 \u2192 CN2, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Sample STF SNR on the link and record Tx Power on DN2."),(0,l.kt)("li",{parentName:"ul"},"Associate DN1 \u2192 CN1, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Sample STF SNR on the link and record Tx Power on DN2"),(0,l.kt)("li",{parentName:"ul"},"Ping DN1 \u2192 CN1 and CN1 \u2192 DN1 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Ping DN2 \u2192 CN2 and CN2 \u2192 DN2 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Run uni-directional UDP iPerf from DN1 \u2192 CN1 and DN2 \u2192 CN2 with the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time = 5 minutes."))),(0,l.kt)("li",{parentName:"ul"},"Sample STF SNR on the link and record Tx Power on DN2 when iPerf is running in\nthe earlier step."),(0,l.kt)("li",{parentName:"ul"},"Run bi-directional UDP iPerf from DN1 \u2192 CN1 and DN2 \u2192 CN2 with the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time = 5 minutes.")))),(0,l.kt)("p",null,"Pass/Fail Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Each UDP session in the test achieves full 1Gbps throughput."),(0,l.kt)("li",{parentName:"ul"},"LA is able to maintain MCS 9 on both the links."),(0,l.kt)("li",{parentName:"ul"},"TPC increases Tx Power on DN2 \u2192 CN2 to compensate for interference from DN1 \u2192\nCN1.")),(0,l.kt)("h3",{id:"puma_rf_la-56-butterfly-interference-with-acute-angle-cns"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.6")," Butterfly interference with acute angle CNs"),(0,l.kt)("p",null,"Description: The purpose of this test is to assess how well TPC and LA are able\nto handle interference between associated DNs, when they are communicating with\ntheir respective CNs, i.e. DN \u2192 CN, CN \u2192 DN. This is achieved by means of a\nsetup crafted with different acute angles between DN-DN and DN-CN links."),(0,l.kt)("p",null,"Test Setup: Butterfly setup"),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reboot TGs, DNs, and CNs."),(0,l.kt)("li",{parentName:"ul"},"Init and Config FW on DNs and CNs."),(0,l.kt)("li",{parentName:"ul"},"Associate DN1 \u2192 DN2, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Ping DN1 \u2192DN2 and DN2 \u2192 DN1 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Associate DN1 \u2192 CN1, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Ping DN1 \u2192 CN1 and CN1 \u2192 DN1 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Sample STF SNR on the link and record Tx Power on DN2."),(0,l.kt)("li",{parentName:"ul"},"Associate DN2 \u2192 CN2, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Ping DN2 \u2192 CN2 and CN2 \u2192 DN2 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Sample STF SNR on the link and record Tx Power on DN1."),(0,l.kt)("li",{parentName:"ul"},"Run uni-directional UDP iPerf from CN1\u2192 CN2 and CN2 \u2192 CN1 with the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time = 5 minutes.")))),(0,l.kt)("p",null,"Pass/Fail Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Each UDP session in the test achieves full 1Gbps throughput."),(0,l.kt)("li",{parentName:"ul"},"LA is able to maintain MCS 9 on both the links."),(0,l.kt)("li",{parentName:"ul"},"Long term PER < Target PER throughout the run."),(0,l.kt)("li",{parentName:"ul"},"Short term PER < 1%+Target PER throughout the run."),(0,l.kt)("li",{parentName:"ul"},"TPC increases Tx Power to compensate for strong interference between links.")),(0,l.kt)("h3",{id:"puma_rf_la-57-figure-of-8-interference-scenarios"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.7")," Figure of 8 interference scenarios"),(0,l.kt)("p",null,"Description: The purpose of this test is to assess how well TPC, LA, and AGC\nwork to mitigate interference in a Figure of 8 test setup. We create a few\ninterference-limited topologies to evaluate performance by igniting only a\nsubset of the links to create the U turn, the S turn, and the H configuration.\nDetails are given below. Note, the following the assignment of Golays to each\nlink for all tests:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Golay 1: Links 0, 1, 3, and 4."),(0,l.kt)("li",{parentName:"ul"},"Golay 2: Links 2, 5 and 6.")),(0,l.kt)("p",null,"This test should also be repeated with the following Golay code assignments:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Golay 1: Links 0 and 1"),(0,l.kt)("li",{parentName:"ul"},"Golay 2: Links 2 and 6"),(0,l.kt)("li",{parentName:"ul"},"Golay 3: Links 3 and 4"),(0,l.kt)("li",{parentName:"ul"},"Golay 4: Link 5")),(0,l.kt)("p",{align:"center"},(0,l.kt)("img",{src:"/terragraph-ctf/figures/PUMA_RF_LA-5.7.png",width:"600"})),(0,l.kt)("p",null,"U-Turn:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Remove links 5 and 6 (U_1)."),(0,l.kt)("li",{parentName:"ul"},"Remove links 2 and 5 (U_2).")),(0,l.kt)("p",null,"H-Turn:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Remove links 2 and 6.")),(0,l.kt)("p",null,"S-Turn:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Remove links 1 and 4 (S_1)."),(0,l.kt)("li",{parentName:"ul"},"Remove links 0 and 3 (S_2).")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Table 3:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Source"),(0,l.kt)("th",{parentName:"tr",align:null},"Sink"),(0,l.kt)("th",{parentName:"tr",align:null},"Uni-Directional (each way)"),(0,l.kt)("th",{parentName:"tr",align:null},"Bi-Directional"),(0,l.kt)("th",{parentName:"tr",align:null},"Topology Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"11"),(0,l.kt)("td",{parentName:"tr",align:null},"12"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"U_1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"6"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"U_2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"6"),(0,l.kt)("td",{parentName:"tr",align:null},"12"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"H")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"11"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"H")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"10"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"S_1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"7"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"S_2")))),(0,l.kt)("p",null,"Test Setup: RF Fig of 8"),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reboot TGs, DNs, and CNs."),(0,l.kt)("li",{parentName:"ul"},"Init and Config FW on DNs and CNs."),(0,l.kt)("li",{parentName:"ul"},"Ignite all links using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2")," or E2E controller. For ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),", pay close\nattention to which nodes are initiator and responder, because this affects how\nthe polarity is configured on the link. By default, the initiator has EVEN\npolarity."),(0,l.kt)("li",{parentName:"ul"},"Ping each wireless hop (using lo interface) and ensure connectivity in each\ndirection."),(0,l.kt)("li",{parentName:"ul"},"Run UDP iPerf from source \u2192 sink as shown in Table 3 above with the following\nparameters and record throughput:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time = 5 minutes."))),(0,l.kt)("li",{parentName:"ul"},"Run TCP iPerf from source \u2192 sink as shown in Table 3 above with the following\nparameters and record throughput:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time = 5 minutes.")))),(0,l.kt)("p",null,"Pass/Fail Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Each UDP session in the test achieves at least 1Gbps throughput."),(0,l.kt)("li",{parentName:"ul"},"Each TCP session in the test achieves at least 1Gbps throughput."),(0,l.kt)("li",{parentName:"ul"},"LA is able to maintain MCS 9 on both the links."),(0,l.kt)("li",{parentName:"ul"},"Long term PER < Target PER throughout the run."),(0,l.kt)("li",{parentName:"ul"},"Short term PER < 1%+Target PER throughout the run.")),(0,l.kt)("h3",{id:"puma_rf_la-58-cn-to-cn-interference"},(0,l.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_LA-5.8")," CN-To-CN interference"),(0,l.kt)("p",null,"Description: This test creates a scenario whereby neighboring CNs 100m apart\ncause side-lobe interference to one another. It's intended to evaluate whether\nAGC and CRS features mitigate the impact of interference under these conditions."),(0,l.kt)("p",null,"Test Setup: CN-TO-CN interference setup (see below)"),(0,l.kt)("p",{align:"center"},(0,l.kt)("img",{src:"/terragraph-ctf/figures/PUMA_RF_LA-5.8.png",width:"800"})),(0,l.kt)("p",null,"Procedure:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Reboot TGs, DNs, and CNs."),(0,l.kt)("li",{parentName:"ul"},"Init and Config FW on DNs and CNs."),(0,l.kt)("li",{parentName:"ul"},"Associate DN1 \u2192 DN2, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Ping DN1 \u2192DN2 and DN2 \u2192 DN1 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Associate DN1 \u2192 CN1, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Ping DN1 \u2192 CN1 and CN1 \u2192 DN1 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Associate DN2 \u2192 CN2, using ",(0,l.kt)("inlineCode",{parentName:"li"},"r2d2"),"."),(0,l.kt)("li",{parentName:"ul"},"Ping DN2 \u2192 CN2 and CN2 \u2192 DN2 to validate connectivity."),(0,l.kt)("li",{parentName:"ul"},"Run uni-directional UDP iPerf on CN1\u2192 DN1 and DN2 \u2192 CN2 with the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time = 5 minutes."))),(0,l.kt)("li",{parentName:"ul"},"Record the throughput from DN2 \u2192 CN2."),(0,l.kt)("li",{parentName:"ul"},"Run uni-directional UDP iPerf on CN2\u2192 DN2 and DN1 \u2192 CN1 with the following\nparameters:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"2 Gbps"),(0,l.kt)("li",{parentName:"ul"},"Packet size of 1500 bytes"),(0,l.kt)("li",{parentName:"ul"},"Running time = 5 minutes."))),(0,l.kt)("li",{parentName:"ul"},"Record the throughput from DN1 \u2192 CN1.")),(0,l.kt)("p",null,"Pass/Fail Criterion:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Each recorded UDP session in the test achieves full 1Gbps throughput."),(0,l.kt)("li",{parentName:"ul"},"LA is able to maintain MCS 9 on both the links."),(0,l.kt)("li",{parentName:"ul"},"Long term PER < Target PER throughout the run."),(0,l.kt)("li",{parentName:"ul"},"Short term PER < 1%+Target PER throughout the run.")))}N.isMDXComponent=!0}}]);