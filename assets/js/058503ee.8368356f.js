"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[464],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?i.createElement(h,l(l({ref:t},c),{},{components:n})):i.createElement(h,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=d;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:a,l[1]=r;for(var p=2;p<o;p++)l[p]=n[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3985:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const o={},l="IBF Tests",r={unversionedId:"tests/IBF",id:"tests/IBF",title:"IBF Tests",description:"All IBF tests should be run with the E2E controller.",source:"@site/../docs/tests/IBF.md",sourceDirName:"tests",slug:"/tests/IBF",permalink:"/terragraph-ctf/tests/IBF",draft:!1,editUrl:"https://github.com/terragraph/terragraph-ctf/edit/main/docs/../docs/tests/IBF.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Terragraph Test Plans",permalink:"/terragraph-ctf/"},next:{title:"Association Tests",permalink:"/terragraph-ctf/tests/Association"}},s={},p=[{value:"P2P",id:"p2p",level:2},{value:"<code>PUMA_RF_IBF-P2P-1</code> DN-DN Assocication",id:"puma_rf_ibf-p2p-1-dn-dn-assocication",level:3},{value:"<code>PUMA_RF_IBF-P2P-2</code> DN-DN Assocication",id:"puma_rf_ibf-p2p-2-dn-dn-assocication",level:3},{value:"<code>PUMA_RF_IBF-P2P-3</code> Bring up link E2E with different attenuation levels",id:"puma_rf_ibf-p2p-3-bring-up-link-e2e-with-different-attenuation-levels",level:3},{value:"<code>PUMA_RF_IBF-P2P-4</code> Bring up link using E2E with high attenuation",id:"puma_rf_ibf-p2p-4-bring-up-link-using-e2e-with-high-attenuation",level:3},{value:"<code>PUMA_RF_IBF-P2P-5</code> Bring up link using E2E with low attenuation",id:"puma_rf_ibf-p2p-5-bring-up-link-using-e2e-with-low-attenuation",level:3},{value:"<code>PUMA_RF_IBF-P2P-6</code> Off-boresight beam selection",id:"puma_rf_ibf-p2p-6-off-boresight-beam-selection",level:3}],c={toc:p};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"ibf-tests"},"IBF Tests"),(0,a.kt)("p",null,"All IBF tests should be run with the E2E controller."),(0,a.kt)("h2",{id:"p2p"},"P2P"),(0,a.kt)("p",null,"Note: Auto PBF after IBF available in M37+. Heat map data is based on IBF."),(0,a.kt)("h3",{id:"puma_rf_ibf-p2p-1-dn-dn-assocication"},(0,a.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_IBF-P2P-1")," DN-DN Assocication"),(0,a.kt)("p",null,"Description: P2P heat map test (DN to DN) on long link."),(0,a.kt)("p",null,"Procedure:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Enable BF stats using ",(0,a.kt)("inlineCode",{parentName:"li"},"r2d2")," command on both nodes."),(0,a.kt)("li",{parentName:"ol"},"Associate DN-I \u2194 DN-R."),(0,a.kt)("li",{parentName:"ol"},"Record the phyPeriodic.txBeam used each time."),(0,a.kt)("li",{parentName:"ol"},"Delay of 30 seconds and send 50 (TBR) pings once a second (TBR)."),(0,a.kt)("li",{parentName:"ol"},"Disassociate DN-I \u2194 DN-R link."),(0,a.kt)("li",{parentName:"ol"},"Repeat 50 times."),(0,a.kt)("li",{parentName:"ol"},"Measure phystatus.srssi and LQM in each iteration.")),(0,a.kt)("p",null,"Passing:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"No failed assocs, pings, disassocs."),(0,a.kt)("li",{parentName:"ol"},"Figure out the max and verify that beam indices pick the max LQM."),(0,a.kt)("li",{parentName:"ol"},"Note: 5-6 sec difference is acceptable verifying the beam indices and the max\nLQM.")),(0,a.kt)("h3",{id:"puma_rf_ibf-p2p-2-dn-dn-assocication"},(0,a.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_IBF-P2P-2")," DN-DN Assocication"),(0,a.kt)("p",null,"Description: P2P heat map test (DN to DN) on short link."),(0,a.kt)("p",null,"Procedure:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Enable BF stats using ",(0,a.kt)("inlineCode",{parentName:"li"},"r2d2")," command on both nodes."),(0,a.kt)("li",{parentName:"ol"},"Associate DN-I \u2194 DN-R."),(0,a.kt)("li",{parentName:"ol"},"Record the phyPeriodic.txBeam used each time."),(0,a.kt)("li",{parentName:"ol"},"Delay of 30 seconds and send 50 (TBR) pings once a second (TBR)"),(0,a.kt)("li",{parentName:"ol"},"Disassociate DN-I \u2194 DN-R link.")),(0,a.kt)("p",null,"Passing:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"No failed assocs, pings, disassocs."),(0,a.kt)("li",{parentName:"ol"},"Same beams must be selected every time.")),(0,a.kt)("h3",{id:"puma_rf_ibf-p2p-3-bring-up-link-e2e-with-different-attenuation-levels"},(0,a.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_IBF-P2P-3")," Bring up link E2E with different attenuation levels"),(0,a.kt)("p",null,"Description: Ignite P2P link in coffin setup multiple times and verify link\ncomes up with same beams."),(0,a.kt)("p",null,"Procedure:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Enable BF stats on both nodes."),(0,a.kt)("li",{parentName:"ol"},"Set xdB attenuation on the link (where x is enough to not bring the link up)."),(0,a.kt)("li",{parentName:"ol"},"Ignite P2P link in coffin."),(0,a.kt)("li",{parentName:"ol"},"Reset attenuation back to 0dB."),(0,a.kt)("li",{parentName:"ol"},"Delay of 30 seconds and send 50 (TBR) pings once a second (TBR)."),(0,a.kt)("li",{parentName:"ol"},"Repeat 10 times."),(0,a.kt)("li",{parentName:"ol"},"Plot the phystatus.srssi in each iteration."),(0,a.kt)("li",{parentName:"ol"},"Measure LQM in each iteration.")),(0,a.kt)("p",null,"Passing:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Verify that the E2E controller attempts to ignite the P2P link when\nattenuation is high till the command times out."),(0,a.kt)("li",{parentName:"ol"},"Verify LQM diff is no more than +/-1 between each iteration.")),(0,a.kt)("h3",{id:"puma_rf_ibf-p2p-4-bring-up-link-using-e2e-with-high-attenuation"},(0,a.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_IBF-P2P-4")," Bring up link using E2E with high attenuation"),(0,a.kt)("p",null,"Description: Ignite P2P link in coffin setup with high attenuation and verify\nignition succeeds with 0dB attenuation."),(0,a.kt)("p",null,"Procedure:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Enable BF stats on both nodes."),(0,a.kt)("li",{parentName:"ol"},"Set xdB attenuation on the link (where x is enough to not bring the link up)."),(0,a.kt)("li",{parentName:"ol"},"Ignite P2P link in coffin."),(0,a.kt)("li",{parentName:"ol"},"Reset attenuation back to 0dB."),(0,a.kt)("li",{parentName:"ol"},"Delay of 30 seconds and send 50 (TBR) pings once a second (TBR)."),(0,a.kt)("li",{parentName:"ol"},"Repeat 5 times."),(0,a.kt)("li",{parentName:"ol"},"Plot the phystatus.srssi in each iteration."),(0,a.kt)("li",{parentName:"ol"},"Measure LQM in each iteration.")),(0,a.kt)("p",null,"Passing:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Verify that the E2E controller attempts to ignite the P2P link when\nattenuation is high till the command times out."),(0,a.kt)("li",{parentName:"ol"},"Verify LQM diff is no more than +/-1 between each iteration.")),(0,a.kt)("h3",{id:"puma_rf_ibf-p2p-5-bring-up-link-using-e2e-with-low-attenuation"},(0,a.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_IBF-P2P-5")," Bring up link using E2E with low attenuation"),(0,a.kt)("p",null,"Description: Ignite P2P link in coffin setup with 0dB attenuation and verify\nignition fails with high attenuation."),(0,a.kt)("p",null,"Procedure:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Enable BF stats on both nodes."),(0,a.kt)("li",{parentName:"ol"},"Set 0dB attenuation on the link."),(0,a.kt)("li",{parentName:"ol"},"Ignite P2P link in coffin."),(0,a.kt)("li",{parentName:"ol"},"Delay of 30 seconds and send 50 (TBR) pings once a second (TBR)."),(0,a.kt)("li",{parentName:"ol"},"Set attenuation to high value."),(0,a.kt)("li",{parentName:"ol"},"Repeat 5 times."),(0,a.kt)("li",{parentName:"ol"},"Plot the phystatus.srssi in each iteration."),(0,a.kt)("li",{parentName:"ol"},"Measure LQM in each iteration.")),(0,a.kt)("p",null,"Passing:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Verify that the E2E controller attempts to ignite the P2P link when\nattenuation is high till the command times out."),(0,a.kt)("li",{parentName:"ol"},"Verify LQM diff is no more than +/-1 between each iteration.")),(0,a.kt)("h3",{id:"puma_rf_ibf-p2p-6-off-boresight-beam-selection"},(0,a.kt)("inlineCode",{parentName:"h3"},"PUMA_RF_IBF-P2P-6")," Off-boresight beam selection"),(0,a.kt)("p",null,"Description: Ignite a P2P link that is off-boresight and check beam."),(0,a.kt)("p",null,"Procedure:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Enable BF stats on both nodes."),(0,a.kt)("li",{parentName:"ol"},"Associate the P2P link."),(0,a.kt)("li",{parentName:"ol"},"Delay of 30 seconds and send 50 (TBR) pings once a second (TBR)."),(0,a.kt)("li",{parentName:"ol"},"Repeat 5 times."),(0,a.kt)("li",{parentName:"ol"},"Plot the phystatus.srssi in each iteration."),(0,a.kt)("li",{parentName:"ol"},"Measure LQM in each iteration.")),(0,a.kt)("p",null,"Passing:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Verify that the beam idx picked each time correlates with the actual angle\nbetween the nodes."),(0,a.kt)("li",{parentName:"ol"},"Verify LQM diff is no more than +/-1 between each iteration.")))}u.isMDXComponent=!0}}]);